-------------js/main.js--------------
var itl={filebtn:function(a){ele=$(a).closest('.form-file');ele.find('[type="file"]').click();},filechange:function(a,event){ele=$(a).closest('.form-file');var fileName=event.target.files[0].name;ele.find('.filename').html(fileName);},urlCheck:function(url,type){url=url.split('?');var loc=window.location.protocol+'//'+window.location.hostname+window.location.pathname;return url[0]==loc;},setPush:function(href){if(localStorage.getItem('lasturl')!=href){localStorage.setItem('lasturl',href);history.pushState('',website+href,href);}},loadData:function(json,url){itl.currenturl=url;$.each(json,function(key,value){if(key=='redirect'){itl.loadContent(value);itl.setPush(value);}else{if(key=='metatag'){document.title=value;}else if(key=='content'){if(key=='content'){if(!json.header){$('#header').html('').removeClass('app-header');}else{$('#header').addClass('app-header');}
$('#'+key).html(value);$('#sanmodelbody').html("");}}else{$('#'+key).html(value);}}});setTimeout(function(){itl.init();},200);},loadModalData:function(json,url){$.each(json,function(key,value){if(key=='redirect'){$('#sanmodalright').modal('hide');itl.loadContent(value);itl.setPush(value);}else{if(key=='content'){$('.modalbody').html(value);}}});setTimeout(function(){itl.init();},200)},xhrerror:function(){$('#content').html('<div class="box m-2"><div class="box-header"> Error ! </div>  <div class="box-divider m-0"></div>  <p class="box-body">Error occurd while proccessing, please check network!</p></div>');$("#header").removeClass('loaderbar');},modalxhrerror:function(){$('#sanmodelbody').html('<div class="box m-2"><div class="box-header"> Error ! </div>  <div class="box-divider m-0"></div>  <p class="box-body">Error occurd while proccessing, please check network!</p></div>');},loadContent:function(url,arg){$('.mheader, .burger-container').removeClass('menu-opened');$.ajax(url,{beforeSend:function(request){$("#header").addClass('loaderbar');$("#head").addClass('loaderbar');request.setRequestHeader("san-ajax","load");},type:'GET',datatype:'json',success:function(data){if(arg&&arg.skipto){$('.skipto').append(data.content);$('.loadmore').find('img').removeClass('spin');if(data.skip){$('.skipto').attr('data-skip',data.skip);}else{$('.skip-btn').remove();}}else{itl.loadData(data,url);if(arg&&arg.ele&&$(arg.ele).attr('data-noscroll')){}else{$("html, body").animate({scrollTop:0},300);}}},error:function(xhr,status,text){itl.xhrerror();},complete:function(xhr,status){$("#head").removeClass('loaderbar');if(status!='success'){if(xhr.responseJSON){itl.loadData(xhr.responseJSON,url);}else{var jsonResponse=xhr.responseText.replace(/\\n/g,'').replace(/\\/g,'');$('#content').html(jsonResponse);}}
$("#header").removeClass('loaderbar');}});$('li').removeClass('current');$('a[href="'+url+'"]').parent().addClass('current');},modal:function(type,arg){arg=arg?arg:{};$('#sanmodelbody').html('<div class="modal-body text-center p-lg"> <div class="loader"></div> </div> <div class="modal-footer"> <button type="button" class="btn dark-white p-x-md" data-dismiss="modal">Cancel</button></div>');if(type){$('#sanmodalright').find('.modal-dialog').addClass('modal-'+(arg.size?arg.size:'lg'));$('#sanmodalright .modal-title').html(arg.title?arg.title:'');$('#sanmodalright').modal('show');href=window.location.protocol+'//'+window.location.hostname+window.location.pathname+window.location.search+'#modal';itl.setPush(href);if(arg.url){$.ajax(arg.url,{type:arg.method?arg.method:'GET',data:arg.data?arg.data:{},datatype:'json',beforeSend:function(request){request.setRequestHeader("san-ajax","modal");},success:function(data){itl.loadModalData(data,arg.url);},error:function(){itl.modalxhrerror();},complete:function(xhr,status){if(status!='success'){if(xhr.responseJSON){itl.loadModalData(xhr.responseJSON,arg.url);}else{var jsonResponse=xhr.responseText.replace(/\\n/g,'').replace(/\\/g,'');$('#sanmodelbody').html(jsonResponse);}}}});}}else{$('#sanmodalright').modal('hide');}},ajaxform:function(url,formData,modal,callback){$.ajax(url,{beforeSend:function(request){$('.modalbody').prepend('<div class="ajaxformloader" style="position:absolute; width:100%; height:100%; background:rgba(255,255,255,.5); text-align:center; left:0px; top:0px; z-index:2;">Loading</div>');request.setRequestHeader("san-ajax","form");},processData:false,contentType:false,data:formData,type:'POST',success:function(data){if(data.redirect){if(data.redirect=='refresh'){data.redirect=window.location.href;$('#sanmodalright').modal('hide');}
itl.loadData(data);}else if(modal){itl.loadModalData(data,url);}else{itl.loadData(data,url);}
if($('.alert').length){$("html, body").animate({scrollTop:$('.alert').offset().top-100},1000);}
if(callback)callback(data);},error:function(){itl.xhrerror();},complete:function(xhr,status){if(status!='success'){if(xhr.responseJSON){itl.loadData(xhr.responseJSON,url);}else{var jsonResponse=xhr.responseText.replace(/\\n/g,'').replace(/\\/g,'');$('#content').html(jsonResponse);}}}});},insertParam:function(key,value){key=encodeURIComponent(key);value=encodeURIComponent(value);var s=document.location.search;var kvp=key+"="+value;var r=new RegExp("(&|\\?)"+key+"=[^\&]*");s=s.replace(r,"$1"+kvp);if(!RegExp.$1){s+=(s.length>0?'&':'?')+kvp;};return s;},loadMore:function(ele){skip=$('.skipto').attr('data-skip');if(skip){$('.loadmore').find('img').addClass('spin');href=window.location.protocol+'//'+window.location.hostname+window.location.pathname+this.insertParam('skip',skip)
itl.loadContent(href,{skipto:1,ele:ele});}},init:function(){clearTimeout(itl.interval);pt=$('.hero_single.version_2').css('padding-top');if($('.hero_single.version_2').hasClass('full')){hp=(($(window).height()/$(window).width())*100);if(parseInt(pt)>$(window).height()||($(window).width()/100)*60>$(window).height()){pt=hp+'%';}else{pt='60%';if($(window).width()<600){pt='70%';}}}else{pt=$(window).height()*.5+'px';}
$('.hero_single.version_2').css({paddingTop:pt});$('#toTop').click(function(){$("html, body").animate({scrollTop:0},1000);})
$('.ajax-popup-link').magnificPopup({type:'ajax'});$('.magnific-gallery').each(function(){$(this).magnificPopup({delegate:'a',type:'image',preloader:true,gallery:{enabled:true},removalDelay:500,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace('mfp-figure','mfp-figure mfp-with-anim');this.st.mainClass=this.st.el.attr('data-effect');}},closeOnContentClick:true,midClick:true});});itl.r_owl=$('#reccomended');itl.r_owl.owlCarousel({center:true,items:2,loop:true,onChanged:function(event){id=$(event.target).find('.owl-item.active.center').find('.item').attr('id');if(id&&cr){cr.set();}
if($('.reccomended-description').length){desc=$(event.target).find('.owl-item.active.center').find('.item').attr('data-desc');$('.reccomended-description').fadeOut(300,function(){$('.reccomended-description').html(desc);$('.reccomended-description').fadeIn(300);})}},onInitialized:function(event){if($('.reccomended-description').length){desc=$(event.target).find('.owl-item.active.center').find('.item').attr('data-desc');$('.reccomended-description').fadeOut(300,function(){$('.reccomended-description').html(desc);$('.reccomended-description').fadeIn(300);})}},margin:0,merge:true,nav:true,responsive:{0:{items:1},350:{items:2},800:{items:3}}});itl.hs_owl=$('#homeservice');itl.hs_owl.owlCarousel({loop:false,margin:0,merge:true,nav:true,responsive:{0:{items:1},767:{items:2}},onInitialized:function(event){console.log(event.relatedTarget.settings.responsiveBaseElement);if(event.item.count>2){$('#homeservice').siblings('.owl-nav').addClass('active');}}});AOS.init({duration:1000});itl.scroll();$('[data-toggle="tooltip"]').tooltip();},bannerimg:[],bannerno:0,banner:function(){var tmpImg=new Image();tmpImg.src='img/'+itl.bannerimg[itl.bannerno].main;tmpImg.onload=function(){ele='<div class="banner-item" style="background-image: url(img/'+itl.bannerimg[itl.bannerno].main+')">';if(itl.bannerimg[itl.bannerno].svg){ele+='<img src="uploads/'+itl.bannerimg[itl.bannerno].svg+'" />';}
ele+='</div>';$('.home-banner').prepend(ele);if($('.home-banner .banner-item').length>1){$('.home-banner .banner-item').last().fadeOut(2000,function(){$(this).remove();$('.home-banner .banner-item').first().find('img').fadeIn(1000);});}else{$('.home-banner .banner-item').first().find('img').fadeIn(1000);}
if($('.home-banner .banner-item').length>3){$('.home-banner .banner-item').last().remove();}
itl.interval=setTimeout(function(){itl.bannerno++;if(itl.bannerno>itl.bannerimg.length-1){itl.bannerno=0;}
itl.banner();},10000);};},scroll:function(){if($(window).scrollTop()>1){$('.fixed-top').addClass('scrolled');}else{$('.fixed-top').removeClass('scrolled');}
if($('.sub_sticky').length){if($('.sub_sticky').offset().top-$(window).scrollTop()<=$('.header').height()){$('.sub_sticky_holder').addClass('sticky').css({top:$('.header').hasClass('fixed-top')?60:115,width:$('.sub_sticky').width()});}else{$('.sub_sticky_holder').removeClass('sticky').removeAttr('style');}}},search:function(a){href=$(a).attr('action')+'?'+$(a).serialize();history.pushState('',website+href,href);itl.loadContent(href);}}
$(document).on('click','.owl-next',function(e){itl.r_owl.trigger('next.owl.carousel');})
$(document).on('click','.owl-prev',function(e){itl.r_owl.trigger('prev.owl.carousel',[300]);})
$(document).on('click','[data-move]',function(e){id=$(this).attr('data-move');$("html, body").animate({scrollTop:$('#'+id).offset().top-$('.header').height()-100});})
$(window).scroll(function(){itl.scroll();if($(window).scrollTop()>50){$('#toTop').removeClass('hide');}else{$('#toTop').addClass('hide');}})
function menutoggle(){if($('.mheader').hasClass('menu-opened')){$('.mheader, .burger-container').removeClass('menu-opened');}else{$('.mheader, .burger-container').addClass('menu-opened');}}
$(document).on('click','.burger-container',function(e){menutoggle();});$(document).keyup(function(e){if(e.key==="Escape"){if($('.mheader').hasClass('menu-opened')){menutoggle();}}});$(document).ready(function(){itl.init();})
window.onload=function(){itl.init();}
$(window).resize(function(){itl.init();})
$(document).on('click','a',function(e){var href=$(this).attr("href");var _confirm=$(this).attr("confirm");if(href&&!href.startsWith('#')&&href!="#"&&$(this).attr("target")!="_blank"&&!$(this).hasClass('ajax-popup-link')){if(!_confirm||confirm(_confirm)){itl.loadContent(href,{ele:this});itl.setPush(href);}
e.preventDefault();}});window.onpopstate=function(event){itl.loadContent(location.pathname+location.search);};$(document).on('submit','form#ajaxform',function(e){var url=$(this).attr("action");var modal=$(this).hasClass("modalform");$($(this).attr('data-relbtn')).attr("disabled",'disabled').addClass('loading');if(url){var formData=new FormData($('#'+$(this).attr("id"))[0]);itl.ajaxform(url,formData,modal);e.preventDefault();}});